{"version":3,"sources":["utils/utils.js","components/Message.js","components/MessageLog.js","reducers/messageReducer.js","reducers/messageLogReducer.js","components/MessagePrompt.js","reducers/userReducer.js","reducers/loginReducer.js","components/CreateUser.js","components/UserList.js","components/Chat.js","reducers/userListReducer.js","reducers/socketReducer.js","App.js","store.js","index.js","config.js"],"names":["getCurrentTimeStamp","Date","substring","randomColor","console","log","Math","random","idGenerator","S4","toString","Message","message","type","className","style","color","time","user","content","connect","state","messageLog","messageLogReducer","useEffect","element","document","getElementById","scrollTop","scrollHeight","id","map","key","messageReducer","action","value","addMessageToLog","concat","mapDispatchToProps","setMessage","socket","socketReducer","userReducer","Form","onSubmit","event","preventDefault","messageObject","name","emit","handleMessageSubmit","Group","Control","placeholder","onChange","target","handleMessageChange","setShowAlert","show","text","loginReducer","showLogin","showAlert","alertText","setUserName","login","useState","setColor","handleFormSubmit","length","indexOf","Modal","size","aria-labelledby","centered","Header","Title","Body","Row","Col","md","Label","handleFormChange","Text","as","controlId","Button","backgroundColor","borderColor","onClick","paddingTop","Alert","variant","marginTop","users","userListReducer","Object","keys","Chat","Container","marginLeft","marginRight","paddingLeft","paddingRight","temp","setSocket","setUser","setShowLogin","setUserList","addUserToList","removeUserFromList","io","PORT","on","msg","err","WSPORT","reducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","process","REACT_APP_WEBSOCKET_PORT","module","exports"],"mappings":"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","file":"static/js/main.ac94235d.chunk.js","sourcesContent":["export const getCurrentTimeStamp = () => Date().substring(16, 24)\n\nexport const randomColor = () => {\n  console.log(\"generated\")\n\n  return \"hsl(\" + 360 * Math.random() + \",\" + 100 + \"%,\" + 50 + \"%)\"\n}\n\nexport const idGenerator = () => {\n  const S4 = () => {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  }\n  return `${S4()}${S4()}-${S4()}-${S4()}-${S4()}-${S4()}${S4()}${S4()}`\n}\n","import React from \"react\"\nimport { ListGroup } from \"react-bootstrap\"\n\nconst Message = ({ message }) => {\n  switch (message.type) {\n    case \"AUTOMATED_MESSAGE\":\n      return (\n        <div className=\"messageElement\">\n          <span\n            style={{ color: message.color }}\n          >{`<${message.time} ${message.user} ${message.content}>`}</span>\n        </div>\n      )\n\n    case \"PRIVATE_MESSAGE\":\n      return (\n        <div className=\"messageElement\">\n          <span\n            style={{ color: message.color }}\n          >{`<${message.time} Whisper from ${message.user}>`}</span>\n          <span className=\"message-content\">{message.content}</span>\n        </div>\n      )\n\n    default:\n      return (\n        <div className=\"messageElement\">\n          <span\n            style={{ color: message.color }}\n          >{`<${message.time} ${message.user}>`}</span>\n          <span className=\"message-content\">{message.content}</span>\n        </div>\n      )\n  }\n}\n\nexport default Message\n","import React, { useEffect } from \"react\"\nimport { connect } from \"react-redux\"\nimport { idGenerator } from \"../utils/utils\"\nimport Message from \"./Message\"\nimport { ListGroup } from \"react-bootstrap\"\n\nconst MessageLog = ({ messageLog }) => {\n  useEffect(() => {\n    const element = document.getElementById(\"messageLog\")\n    element.scrollTop = element.scrollHeight\n  }, [messageLog])\n  return (\n    <ul className=\"messageLog\" id=\"messageLog\">\n      {messageLog.map(message => (\n        <Message key={idGenerator()} message={message}></Message>\n      ))}\n    </ul>\n  )\n}\n\nconst mapStateToProps = state => ({\n  messageLog: state.messageLogReducer\n})\n\nexport default connect(mapStateToProps)(MessageLog)\n","const messageReducer = (state = \"\", action) => {\n  switch (action.type) {\n    case \"SET_MESSAGE\":\n      return action.value\n    default:\n      return state\n  }\n}\n\nexport const setMessage = value => {\n  return {\n    type: \"SET_MESSAGE\",\n    value\n  }\n}\n\nexport default messageReducer\n","const messageLogReducer = (state = [], action) => {\n  switch (action.type) {\n    case \"SET_MESSAGE_LOG\":\n      return action.value\n    case \"ADD_MESSAGE_TO_LOG\":\n      return state.concat(action.value)\n    default:\n      return state\n  }\n}\nexport const addMessageToLog = value => {\n  return {\n    type: \"ADD_MESSAGE_TO_LOG\",\n    value\n  }\n}\n\nexport const setMessageLog = value => {\n  return {\n    type: \"SET_MESSAGE_LOG\",\n    value\n  }\n}\n\nexport default messageLogReducer\n","import React from \"react\"\nimport { setMessage } from \"../reducers/messageReducer\"\nimport { addMessageToLog } from \"../reducers/messageLogReducer\"\nimport { connect } from \"react-redux\"\nimport { Modal, Form, Button, Alert } from \"react-bootstrap\"\nimport { getCurrentTimeStamp } from \"../utils/utils\"\n\nconst MessagePrompt = ({\n  user,\n  socket,\n  message,\n  setMessage,\n  addMessageToLog\n}) => {\n  const handleMessageSubmit = event => {\n    event.preventDefault()\n    if (!message) {\n      return\n    }\n    const time = getCurrentTimeStamp()\n\n    console.log(\"user:\", user)\n    console.log(\"message:\", message)\n    const messageObject = {\n      content: message,\n      time,\n      user: user.name,\n      color: user.color\n    }\n    addMessageToLog(messageObject)\n    socket.emit(\"SENT_MESSAGE\", messageObject)\n\n    setMessage(\"\")\n  }\n\n  const handleMessageChange = event => {\n    setMessage(event.target.value)\n  }\n\n  return (\n    <Form\n      onSubmit={event => handleMessageSubmit(event)}\n      className=\"messagePrompt\"\n    >\n      <Form.Group>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Send message\"\n          value={message}\n          onChange={event => handleMessageChange(event)}\n        />\n      </Form.Group>\n    </Form>\n  )\n}\n\nconst mapStateToProps = state => ({\n  message: state.messageReducer,\n  socket: state.socketReducer,\n  user: state.userReducer\n})\nconst mapDispatchToProps = {\n  setMessage,\n  addMessageToLog\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MessagePrompt)\n","const userReducer = (state = { name: \"\" }, action) => {\n  switch (action.type) {\n    case \"SET_USER\":\n      return action.value\n    case \"SET_USER_NAME\":\n      return { ...state, name: action.value }\n    default:\n      return state\n  }\n}\n\nexport const setUser = value => {\n  return {\n    type: \"SET_USER\",\n    value\n  }\n}\n\nexport const setUserName = value => {\n  return {\n    type: \"SET_USER_NAME\",\n    value\n  }\n}\n\nexport default userReducer\n","const loginReducer = (\n  state = { showLogin: true, showAlert: false, alertText: \"\" },\n  action\n) => {\n  switch (action.type) {\n    case \"SET_SHOW_ALERT\":\n      return {\n        ...state,\n        showAlert: action.show,\n        alertText: action.text\n      }\n    case \"SET_SHOW_LOGIN\":\n      return { ...state, showLogin: action.value }\n    default:\n      return state\n  }\n}\n\nexport const setShowAlert = (show, text) => {\n  return {\n    type: \"SET_SHOW_ALERT\",\n    show,\n    text\n  }\n}\nexport const setShowLogin = value => {\n  return {\n    type: \"SET_SHOW_LOGIN\",\n    value\n  }\n}\n\nexport default loginReducer\n","import React, { useState, useEffect } from \"react\"\n\nimport { connect } from \"react-redux\"\nimport { randomColor, getCurrentTimeStamp } from \"../utils/utils\"\nimport { Modal, Form, Button, Alert, Col } from \"react-bootstrap\"\nimport { setUserName } from \"../reducers/userReducer\"\nimport { setShowAlert } from \"../reducers/loginReducer\"\n\nconst CreateUser = ({ socket, login, user, setUserName, setShowAlert }) => {\n  const [color, setColor] = useState(null)\n\n  useEffect(() => {\n    setColor(randomColor())\n  }, [])\n\n  const handleFormSubmit = event => {\n    event.preventDefault()\n\n    if (user.name.length < 3) {\n      setShowAlert(true, \"Name must be at least 3 characters\")\n      return\n    }\n    if (user.name.length > 15) {\n      setShowAlert(true, \"Name must be less than 16 characters\")\n      return\n    }\n    if (user.name.indexOf(\" \") !== -1) {\n      setShowAlert(true, \"No whitespace allowed\")\n      return\n    }\n\n    const time = getCurrentTimeStamp()\n\n    const message = {\n      time,\n\n      user: user.name,\n      color\n    }\n\n    socket.emit(\"SET_NAME_TAG\", message)\n  }\n\n  const handleFormChange = event => {\n    setUserName(event.target.value)\n  }\n\n  return (\n    <Modal\n      show={login.showLogin}\n      size=\"md\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          Welcome to my chat application\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Form onSubmit={event => handleFormSubmit(event)}>\n          <Form.Row>\n            <Col md={7}>\n              <Form.Label>Choose nametag</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter tag\"\n                onChange={event => handleFormChange(event)}\n              />\n              <Form.Text className=\"text-muted\">Tag must be unique</Form.Text>\n            </Col>\n            <Form.Group as={Col} md={3} controlId=\"colorChoiceForm\">\n              <Form.Label>Current colour</Form.Label>\n\n              <Button\n                style={{ backgroundColor: color, borderColor: color }}\n                onClick={event => {\n                  setColor(randomColor())\n                }}\n              >\n                Randomize\n              </Button>\n            </Form.Group>\n          </Form.Row>\n          <Form.Row style={{ paddingTop: \"10px\" }}>\n            <Col>\n              <Button\n                onClick={event => {\n                  handleFormSubmit(event)\n                }}\n              >\n                Choose tag\n              </Button>\n            </Col>\n          </Form.Row>\n        </Form>\n        <Alert\n          variant=\"warning\"\n          show={login.showAlert}\n          style={{ marginTop: 10 }}\n        >\n          {login.alertText}\n        </Alert>\n      </Modal.Body>\n    </Modal>\n  )\n}\nconst mapStateToProps = state => ({\n  socket: state.socketReducer,\n  login: state.loginReducer,\n  user: state.userReducer\n})\n\nconst mapDispatchToProps = { setUserName, setShowAlert }\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateUser)\n","import React, { useEffect } from \"react\"\nimport { connect } from \"react-redux\"\n\nconst UserList = users => {\n  return (\n    <div>\n      Users connected: {Object.keys(users.users).length}\n      <ul>\n        {Object.keys(users.users).map(user => (\n          <div key={user}>{user}</div>\n        ))}\n      </ul>\n    </div>\n  )\n}\nconst mapStateToProps = state => ({ users: state.userListReducer })\nexport default connect(mapStateToProps)(UserList)\n","import React from \"react\"\nimport MessageLog from \"./MessageLog\"\nimport MessagePrompt from \"./MessagePrompt\"\nimport CreateUser from \"./CreateUser\"\nimport UserList from \"./UserList\"\nimport { Container, Row, Col } from \"react-bootstrap\"\n\nconst Chat = () => {\n  return (\n    <div className=\"mainChat\">\n      <Container style={{ marginLeft: 0, marginRight: 0 }}>\n        <CreateUser></CreateUser>\n        <Row style={{ marginLeft: 0, marginRight: 0 }}>\n          <Col\n            style={{\n              marginLeft: 0,\n              marginRight: 0,\n              paddingLeft: 0,\n              paddingRight: 0\n            }}\n          >\n            <MessageLog></MessageLog>\n          </Col>\n          <Col>\n            <UserList></UserList>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <MessagePrompt></MessagePrompt>\n          </Col>\n          <Col></Col>\n        </Row>\n      </Container>\n    </div>\n  )\n}\n/**\n * <div className=\"mainChat\">\n      <CreateUser></CreateUser>\n      <MessageLog></MessageLog>\n      <MessagePrompt></MessagePrompt>\n      <UserList></UserList>\n    </div>\n * \n * \n * \n */\nexport default Chat\n","const userListReducer = (state = {}, action) => {\n  let temp = {}\n  switch (action.type) {\n    case \"SET_USER_LIST\":\n      return action.value\n    case \"ADD_USER_TO_LIST\":\n      console.log(\"action value\", action.value)\n      temp = { ...state }\n      temp[action.value.user] = action.value\n\n      console.log(\"state:\", temp)\n\n      return temp\n    case \"REMOVE_USER_FROM_LIST\":\n      console.log(\"action value\", action.value)\n      temp = { ...state }\n      delete temp[action.value.user]\n      console.log(\"state:\", temp)\n\n      return temp\n    default:\n      return state\n  }\n}\nexport const setUserList = value => {\n  console.log(\"value:\", value)\n  return {\n    type: \"SET_USER_LIST\",\n    value\n  }\n}\n\nexport const addUserToList = value => {\n  return {\n    type: \"ADD_USER_TO_LIST\",\n    value\n  }\n}\nexport const removeUserFromList = value => {\n  return {\n    type: \"REMOVE_USER_FROM_LIST\",\n    value\n  }\n}\n\nexport default userListReducer\n","const socketReducer = (state = null, action) => {\n  switch (action.type) {\n    case \"SET_SOCKET\":\n      return action.value\n    default:\n      return state\n  }\n}\n\nexport const setSocket = value => {\n  return {\n    type: \"SET_SOCKET\",\n    value\n  }\n}\n\nexport default socketReducer\n","import React from \"react\"\nimport io from \"socket.io-client\"\n\nimport Chat from \"./components/Chat\"\nimport { addMessageToLog } from \"./reducers/messageLogReducer\"\nimport { setUser } from \"./reducers/userReducer\"\nimport { setShowAlert, setShowLogin } from \"./reducers/loginReducer\"\nimport {\n  setUserList,\n  addUserToList,\n  removeUserFromList\n} from \"./reducers/userListReducer\"\n\nimport { setSocket } from \"./reducers/socketReducer\"\n\nimport { connect } from \"react-redux\"\n\nimport { WSPORT, PORT } from \"./config\"\n\nconst App = ({\n  setSocket,\n  addMessageToLog,\n  setShowAlert,\n  setUser,\n  setShowLogin,\n  setUserList,\n  addUserToList,\n  removeUserFromList\n}) => {\n  const socket = io(PORT)\n\n  socket.on(\"popup\", msg => {\n    console.log(\"hello: \", msg)\n  })\n  socket.on(\"connection\", () => {\n    console.log(\"client connected\")\n  })\n\n  socket.on(\"connect_error\", err => {\n    console.log(\"client connect_error: \", err)\n  })\n\n  socket.on(\"connect_timeout\", err => {\n    console.log(\"client connect_timeout: \", err)\n  })\n\n  console.log(\"socket:\", socket)\n  console.log(\"WSPORT:\", WSPORT)\n  console.log(\"PORT:\", PORT)\n\n  socket.on(\"BROADCAST_MESSAGE\", message => {\n    addMessageToLog(message)\n  })\n\n  socket.on(\"USER_TAKEN\", user => {\n    addMessageToLog(user)\n  })\n\n  socket.on(\"USERNAME_ACCEPTED\", user => {\n    console.log(\"user:\", user)\n    setUser({ name: user.user, color: user.color })\n    setShowLogin(false)\n\n    addMessageToLog({\n      ...user,\n      content: \"Joined the chat!\",\n      type: \"AUTOMATED_MESSAGE\"\n    })\n    addUserToList(user)\n  })\n\n  socket.on(\"USERNAME_TAKEN\", () => {\n    setShowAlert(true, \"Name already in use\")\n    console.log(\"username taken\")\n  })\n\n  socket.on(\"NEW_USER_CONNECTED\", user => {\n    console.log(\"new user connected:\", user)\n    addUserToList(user)\n    addMessageToLog({\n      ...user,\n      content: \"Joined the chat!\",\n      type: \"AUTOMATED_MESSAGE\"\n    })\n  })\n\n  socket.on(\"ACTIVE_USERS_ON_CONNECTION\", users => {\n    setUserList(users)\n  })\n  socket.on(\"USER_DISCONNECTED\", user => {\n    console.log(\"disconnected user:\", user)\n    addMessageToLog({\n      ...user,\n      content: \"Has left the chat!\",\n      type: \"AUTOMATED_MESSAGE\"\n    })\n    removeUserFromList(user)\n  })\n\n  setSocket(socket)\n\n  return <Chat></Chat>\n}\nconst mapDispatchToProps = {\n  setSocket,\n  setUser,\n  addMessageToLog,\n  setShowAlert,\n  setShowLogin,\n  setUserList,\n  addUserToList,\n  removeUserFromList\n}\nexport default connect(null, mapDispatchToProps)(App)\n","import { createStore, combineReducers, applyMiddleware } from \"redux\"\nimport thunk from \"redux-thunk\"\nimport messageLogReducer from \"./reducers/messageLogReducer\"\nimport messageReducer from \"./reducers/messageReducer\"\nimport socketReducer from \"./reducers/socketReducer\"\nimport userReducer from \"./reducers/userReducer\"\nimport userListReducer from \"./reducers/userListReducer\"\nimport loginReducer from \"./reducers/loginReducer\"\n\nconst reducer = combineReducers({\n  messageLogReducer,\n  messageReducer,\n  socketReducer,\n  userReducer,\n  loginReducer,\n  userListReducer\n})\n\nconst store = createStore(reducer, applyMiddleware(thunk))\n\nexport default store\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport store from \"./store\"\nimport { Provider } from \"react-redux\"\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport \"./styles.css\"\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n)\n","if (process.env.NODE_ENV !== \"production\") {\n  require(\"dotenv\").config()\n}\n\nlet WSPORT = process.env.REACT_APP_WEBSOCKET_PORT\nlet PORT = process.env.REACT_APP_HTTP_PORT\n\nif (process.env.NODE_ENV === \"production\") {\n  PORT = process.env.PORT\n}\n\nmodule.exports = {\n  WSPORT,\n  PORT\n}\n"],"sourceRoot":""}