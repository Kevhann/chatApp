{"version":3,"sources":["config.js","reducers/messageReducer.js","reducers/messageLogReducer.js","components/MessagePrompt.js","utils/idGenerator.js","components/MessageLog.js","reducers/socketReducer.js","App.js","store.js","index.js"],"names":["WSPORT","process","REACT_APP_WEBSOCKET_PORT","PORT","module","exports","messageReducer","state","action","type","value","addMessageToLog","messageLogReducer","concat","mapDispatchToProps","setMessage","connect","message","socket","onChange","e","event","console","log","target","onClick","preventDefault","emit","idGenerator","S4","Math","random","toString","substring","setMessageLog","map","key","socketReducer","setSocket","io","on","reducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"gFAIA,IAAIA,EAASC,2FAAYC,yBACrBC,EAAOF,yBAGTE,EAAOF,2FAAYE,KAGrBC,EAAOC,QAAU,CACfL,SACAG,S,mJCGaG,EAhBQ,WAAyB,IAAxBC,EAAuB,uDAAf,GAAIC,EAAW,uCAC7C,OAAQA,EAAOC,MACb,IAAK,cACH,OAAOD,EAAOE,MAChB,QACE,OAAOH,ICKAI,EAAkB,SAAAD,GAC7B,MAAO,CACLD,KAAM,qBACNC,UAWWE,EAxBW,WAAyB,IAAxBL,EAAuB,uDAAf,GAAIC,EAAW,uCAChD,OAAQA,EAAOC,MACb,IAAK,kBACH,OAAOD,EAAOE,MAChB,IAAK,qBACH,OAAOH,EAAMM,OAAOL,EAAOE,OAC7B,QACE,OAAOH,I,OC2BPO,EAAqB,CACzBC,WF1BwB,SAAAL,GACxB,MAAO,CACLD,KAAM,cACNC,UEwBFC,mBAGaK,eARS,SAAAT,GAAK,MAAK,CAChCU,QAASV,EAAMD,kBAOuBQ,EAAzBE,EAlCO,SAAC,GAAsD,IAApDE,EAAmD,EAAnDA,OAAQD,EAA2C,EAA3CA,QAASF,EAAkC,EAAlCA,WAAYJ,EAAsB,EAAtBA,gBAYpD,OACE,6BACE,8BACE,2BACEF,KAAK,OACLC,MAAOO,EACPE,SAAU,SAAAC,GAAC,OAXSC,EAWeD,EAVzCE,QAAQC,IAAI,SAAUF,EAAMG,OAAOd,YACnCK,EAAWM,EAAMG,OAAOd,OAFE,IAAAW,KAatB,4BAAQI,QAAS,SAAAL,GAAC,OAAwBA,EAlBxCM,iBACNf,EAAgBM,GAChBC,EAAOS,KAAK,eAAgBV,QAC5BF,EAAW,MAeP,aCzBKa,EAAc,WACzB,IAAMC,EAAK,WACT,OAA+B,OAArB,EAAIC,KAAKC,UAAuB,GAAGC,SAAS,IAAIC,UAAU,IAEtE,MAAM,GAAN,OAAUJ,KAAV,OAAiBA,IAAjB,YAAyBA,IAAzB,YAAiCA,IAAjC,YAAyCA,IAAzC,YAAiDA,KAAjD,OAAwDA,KAAxD,OAA+DA,MCgB3Df,EAAqB,CACzBoB,cHJ2B,SAAAxB,GAC3B,MAAO,CACLD,KAAM,kBACNC,WGIWM,eAPS,SAAAT,GAAK,MAAK,CAChCgB,IAAKhB,EAAMK,qBAM2BE,EAAzBE,EAnBI,SAAC,GAA4B,IAA1BO,EAAyB,EAAzBA,IAAyB,EAApBW,cACzB,OACE,6BACE,4BACGX,EAAIY,KAAI,SAAAlB,GAAO,OACd,wBAAImB,IAAKR,KAAgBX,WCMpBoB,EAhBO,WAA2B,IAA1B9B,EAAyB,uDAAjB,KAAMC,EAAW,uCAC9C,OAAQA,EAAOC,MACb,IAAK,aACH,OAAOD,EAAOE,MAChB,QACE,OAAOH,I,QCwBPO,EAAqB,CACzBwB,UDrBuB,SAAA5B,GACvB,MAAO,CACLD,KAAM,aACNC,UCmBFC,mBAEaK,cAAQ,KAAMF,EAAdE,EAtBH,SAAC,GAAoC,IAAlCsB,EAAiC,EAAjCA,UAAW3B,EAAsB,EAAtBA,gBAClBO,EAASqB,IAAGpC,QAUlB,OARAmB,QAAQC,IAAI,UAAWL,GAEvBA,EAAOsB,GAAG,qBAAqB,SAAAvB,GAC7BN,EAAgBM,MAGlBqB,EAAUpB,GAGR,6BACE,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAeA,OAAQA,Q,eCnBvBuB,EAAUC,YAAgB,CAC9B9B,oBACAN,iBACA+B,kBAKaM,EAFDC,YAAYH,EAASI,YAAgBC,MCNnDC,IAASC,OACP,kBAAC,IAAD,CAAUL,MAAOA,GACf,kBAAC,EAAD,OAEFM,SAASC,eAAe,W","file":"static/js/main.c09cfdbd.chunk.js","sourcesContent":["if (process.env.NODE_ENV !== \"production\") {\n  require(\"dotenv\").config()\n}\n\nlet WSPORT = process.env.REACT_APP_WEBSOCKET_PORT\nlet PORT = process.env.REACT_APP_HTTP_PORT\n\nif (process.env.NODE_ENV === \"production\") {\n  PORT = process.env.PORT\n}\n\nmodule.exports = {\n  WSPORT,\n  PORT\n}\n","const messageReducer = (state = \"\", action) => {\n  switch (action.type) {\n    case \"SET_MESSAGE\":\n      return action.value\n    default:\n      return state\n  }\n}\n\nexport const setMessage = value => {\n  return {\n    type: \"SET_MESSAGE\",\n    value\n  }\n}\n\nexport default messageReducer\n","const messageLogReducer = (state = [], action) => {\n  switch (action.type) {\n    case \"SET_MESSAGE_LOG\":\n      return action.value\n    case \"ADD_MESSAGE_TO_LOG\":\n      return state.concat(action.value)\n    default:\n      return state\n  }\n}\nexport const addMessageToLog = value => {\n  return {\n    type: \"ADD_MESSAGE_TO_LOG\",\n    value\n  }\n}\n\nexport const setMessageLog = value => {\n  return {\n    type: \"SET_MESSAGE_LOG\",\n    value\n  }\n}\n\nexport default messageLogReducer\n","import React from \"react\"\nimport { setMessage } from \"../reducers/messageReducer\"\nimport { addMessageToLog } from \"../reducers/messageLogReducer\"\nimport { connect } from \"react-redux\"\n\nconst MessagePrompt = ({ socket, message, setMessage, addMessageToLog }) => {\n  const handleMessageSubmit = event => {\n    event.preventDefault()\n    addMessageToLog(message)\n    socket.emit(\"SENT_MESSAGE\", message)\n    setMessage(\"\")\n  }\n  const handleMessageChange = event => {\n    console.log(\"event:\", event.target.value)\n    setMessage(event.target.value)\n  }\n\n  return (\n    <div>\n      <form>\n        <input\n          type=\"text\"\n          value={message}\n          onChange={e => handleMessageChange(e)}\n        ></input>\n        <button onClick={e => handleMessageSubmit(e)}>send</button>\n      </form>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  message: state.messageReducer\n})\nconst mapDispatchToProps = {\n  setMessage,\n  addMessageToLog\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MessagePrompt)\n","export const idGenerator = () => {\n  const S4 = () => {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  }\n  return `${S4()}${S4()}-${S4()}-${S4()}-${S4()}-${S4()}${S4()}${S4()}`\n}\n","import React from \"react\"\nimport { setMessageLog } from \"../reducers/messageLogReducer\"\nimport { connect } from \"react-redux\"\nimport { idGenerator } from \"../utils/idGenerator\"\n\nconst MessageLog = ({ log, setMessageLog }) => {\n  return (\n    <div>\n      <ul>\n        {log.map(message => (\n          <li key={idGenerator()}>{message}</li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  log: state.messageLogReducer\n})\nconst mapDispatchToProps = {\n  setMessageLog\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MessageLog)\n","const socketReducer = (state = null, action) => {\n  switch (action.type) {\n    case \"SET_SOCKET\":\n      return action.value\n    default:\n      return state\n  }\n}\n\nexport const setSocket = value => {\n  return {\n    type: \"SET_SOCKET\",\n    value\n  }\n}\n\nexport default socketReducer\n","import React from \"react\"\nimport io from \"socket.io-client\"\nimport MessagePrompt from \"./components/MessagePrompt\"\nimport MessageLog from \"./components/MessageLog\"\nimport { addMessageToLog } from \"./reducers/messageLogReducer\"\n\nimport { setSocket } from \"./reducers/socketReducer\"\nimport { connect } from \"react-redux\"\n\nimport { WSPORT, PORT } from \"./config\"\n\nconst App = ({ setSocket, addMessageToLog }) => {\n  const socket = io(PORT)\n\n  console.log(\"socket:\", socket)\n\n  socket.on(\"BROADCAST_MESSAGE\", message => {\n    addMessageToLog(message)\n  })\n\n  setSocket(socket)\n\n  return (\n    <div>\n      <MessageLog></MessageLog>\n      <MessagePrompt socket={socket}></MessagePrompt>\n    </div>\n  )\n}\nconst mapDispatchToProps = {\n  setSocket,\n  addMessageToLog\n}\nexport default connect(null, mapDispatchToProps)(App)\n","import { createStore, combineReducers, applyMiddleware } from \"redux\"\nimport thunk from \"redux-thunk\"\nimport messageLogReducer from \"./reducers/messageLogReducer\"\nimport messageReducer from \"./reducers/messageReducer\"\nimport socketReducer from \"./reducers/socketReducer\"\n\nconst reducer = combineReducers({\n  messageLogReducer,\n  messageReducer,\n  socketReducer\n})\n\nconst store = createStore(reducer, applyMiddleware(thunk))\n\nexport default store\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport store from \"./store\"\nimport { Provider } from \"react-redux\"\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}